import{u as p,j as i,L as h}from"./main-vysKEP1F.js";function b({errors:t,title:s,description:d}){const{data:a,setData:c,post:o,errors:l,processing:n}=p({title:s||"",description:d||""}),m=e=>{if(e.preventDefault(),console.log("Form data before submit:",{title:a.title,description:a.description}),!a.title.trim()){console.warn("Title is empty or contains only spaces"),c("title","");return}o("/products/create/",{onSuccess:()=>{console.log("Product created successfully")},onError:u=>{console.error("Form submission errors:",u)}})};return i.jsx("div",{className:"container py-5",children:i.jsx("div",{className:"row justify-content-center",children:i.jsx("div",{className:"col-md-8 col-lg-6",children:i.jsxs("div",{className:"card shadow-sm",children:[i.jsx("div",{className:"card-header bg-success text-white",children:i.jsx("h1",{className:"h4 mb-0",children:"Добавить новый товар"})}),i.jsx("div",{className:"card-body",children:i.jsxs("form",{onSubmit:m,children:[i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{htmlFor:"title",className:"form-label",children:"Название товара"}),i.jsx("input",{type:"text",className:`form-control ${l.title||t!=null&&t.title?"is-invalid":""}`,id:"title",name:"title",value:a.title,onChange:e=>c("title",e.target.value),placeholder:"Введите название",required:!0}),(l.title||(t==null?void 0:t.title))&&i.jsx("div",{className:"invalid-feedback",children:l.title||(t==null?void 0:t.title)})]}),i.jsxs("div",{className:"mb-3",children:[i.jsx("label",{htmlFor:"description",className:"form-label",children:"Описание"}),i.jsx("textarea",{className:`form-control ${l.description||t!=null&&t.description?"is-invalid":""}`,id:"description",name:"description",value:a.description,onChange:e=>c("description",e.target.value),placeholder:"Введите описание",rows:5}),(l.description||(t==null?void 0:t.description))&&i.jsx("div",{className:"invalid-feedback",children:l.description||(t==null?void 0:t.description)})]}),i.jsxs("div",{className:"d-flex gap-2",children:[i.jsxs("button",{type:"submit",className:"btn btn-success",disabled:n,children:[i.jsx("i",{className:"bi bi-plus-circle me-2"}),n?"Создание...":"Создать товар"]}),i.jsxs(h,{href:"/products/",className:"btn btn-outline-secondary",children:[i.jsx("i",{className:"bi bi-arrow-left me-2"}),"К списку товаров"]})]})]})})]})})})})}export{b as default};
